# 📊 智能投资回测系统 - Web前端

## ⚡ 快速回测指南

**回测太慢？** 这是因为每个决策点都要运行完整的多Agent分析。以下是快速回测的建议：

### 🚀 推荐配置

| 模式 | 时间范围 | 决策频率 | 决策点数量 | 预计耗时 | 适用场景 |
|------|----------|----------|------------|----------|----------|
| ⚡ **超快速** | 3个月 | 每月决策 | 3个点 | 2-3分钟 | 快速测试 |
| 🚀 **快速** | 3个月 | 每周决策 | 12个点 | 5-8分钟 | 推荐使用 |
| 📊 **标准** | 6个月 | 每周决策 | 24个点 | 10-15分钟 | 详细分析 |
| ⚠️ **慢速** | 3个月 | 每日决策 | 90个点 | 30-45分钟 | 不推荐 |

### 💡 优化建议

1. **首次使用**: 选择"超快速模式"快速体验
2. **日常使用**: 选择"快速模式"，平衡速度与分析深度
3. **详细分析**: 选择"标准模式"，获得更多决策点
4. **避免每日决策**: 除非必要，每日决策会大幅增加耗时

## 🌟 系统特色

- **📱 现代化Web界面** - 响应式设计，支持桌面和移动设备
- **🤖 多Agent集成** - 集成现有的multi_agent_workflow分析引擎
- **📈 实时图表展示** - 使用Chart.js展示资产走势和收益分布
- **⚡ 实时进度监控** - 回测过程可视化监控，显示预计剩余时间
- **📊 详细结果分析** - 关键指标卡片式展示
- **💾 一键导出结果** - 支持JSON格式下载
- **💾 智能缓存** - 价格数据和分析结果缓存，提高效率

## 🛠️ 系统架构

```
前端界面 (HTML + CSS + JS)
    ↓
Flask API 服务器 (backtest_api.py)
    ↓
回测系统 (backtest_system.py) + 缓存优化
    ↓
多Agent工作流 (multi_agent_workflow.py)
```

## 📋 安装与配置

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 启动服务器

推荐使用快速启动脚本：
```bash
python start_backtest_system.py
```

或者直接启动API服务器：
```bash
python backtest_api.py
```

### 3. 访问界面

打开浏览器访问：http://localhost:5000

## 💻 使用方法

### 第一步：配置回测参数

1. **选择股票**
   - 输入公司名称和股票代码
   - 或点击快速选择按钮（贵州茅台、比亚迪等）

2. **设置时间范围**
   - 💡 **首次使用**: 建议3个月时间范围
   - 选择回测开始日期
   - 选择回测结束日期

3. **配置回测参数**
   - 设置初始资金（最低10,000元）
   - 💡 **推荐**: 选择"每周决策"获得最佳平衡
   - ⚠️ **避免**: "每日决策"会大幅增加耗时

### 第二步：启动回测

1. 点击"🚀 开始回测"按钮
2. 系统会显示预计耗时
3. 实时进度条显示当前状态和剩余时间
4. 可随时点击"⏹️ 停止回测"中断操作

### 第三步：查看结果

回测完成后，系统会自动显示：

#### 📊 关键指标
- **总收益** - 绝对收益金额和收益率
- **最大回撤** - 风险控制指标
- **夏普比率** - 风险调整收益
- **交易次数** - 买卖操作统计和胜率

#### 📈 图表分析
- **资产价值走势** - 总资产、现金、股票价值变化
- **收益分布** - 日收益率分布直方图

#### 📋 交易记录
- 详细的买入卖出记录
- 每笔交易的价格、数量、信心度

## 🚀 快速体验

运行快速演示脚本：
```bash
python quick_backtest_demo.py
```

这将展示不同配置的耗时对比，并运行一个超快速模式的演示。 